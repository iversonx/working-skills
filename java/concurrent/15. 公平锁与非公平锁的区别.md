如果在绝对时间上，等待时间最长的线程最先获取锁，即获取锁是按照FIFO顺序的，那么这个锁就是公平的，反之则是不公平的。



AQS采用的是FIFO队列，为什么还会出现非公平锁？

其实公平与否，针对的是被唤醒线程与未加入同步队列的线程之间的锁竞争。

在公平锁下，未加入同步队列的线程发现同步队列中存在节点等待时是无法获取到锁，只能去加入队列进行排队。

在非公平锁下，未加入同步队列的线程会与同步队列中唤醒的线程进行锁竞争，获取锁失败的线程则加入同步队列排队。
